<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>blink: EMU</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">blink
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___e_m_u.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EMU<div class="ingroups"><a class="el" href="group___e_m___library.html">EM_Library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Energy Management Unit (EMU) Peripheral API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacadc56c5e2a8fb2890edd139b694b25b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_u.html#gacadc56c5e2a8fb2890edd139b694b25b">EMU_EnterEM2</a> (bool restore)</td></tr>
<tr class="memdesc:gacadc56c5e2a8fb2890edd139b694b25b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter energy mode 2 (EM2).  <a href="#gacadc56c5e2a8fb2890edd139b694b25b">More...</a><br/></td></tr>
<tr class="separator:gacadc56c5e2a8fb2890edd139b694b25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e98f9066d91dbd64c3e73254336218f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_u.html#ga9e98f9066d91dbd64c3e73254336218f">EMU_EnterEM3</a> (bool restore)</td></tr>
<tr class="memdesc:ga9e98f9066d91dbd64c3e73254336218f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter energy mode 3 (EM3).  <a href="#ga9e98f9066d91dbd64c3e73254336218f">More...</a><br/></td></tr>
<tr class="separator:ga9e98f9066d91dbd64c3e73254336218f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac92115921464d7435fc714d8b9bd494b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_u.html#gac92115921464d7435fc714d8b9bd494b">EMU_EnterEM4</a> (void)</td></tr>
<tr class="memdesc:gac92115921464d7435fc714d8b9bd494b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter energy mode 4 (EM4).  <a href="#gac92115921464d7435fc714d8b9bd494b">More...</a><br/></td></tr>
<tr class="separator:gac92115921464d7435fc714d8b9bd494b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49eb5750384ff279aae225ab5922e9f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_u.html#ga49eb5750384ff279aae225ab5922e9f1">EMU_MemPwrDown</a> (uint32_t blocks)</td></tr>
<tr class="memdesc:ga49eb5750384ff279aae225ab5922e9f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power down memory block.  <a href="#ga49eb5750384ff279aae225ab5922e9f1">More...</a><br/></td></tr>
<tr class="separator:ga49eb5750384ff279aae225ab5922e9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d442fa018de5138afb19a2b85797099"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_m_u.html#ga3d442fa018de5138afb19a2b85797099">EMU_UpdateOscConfig</a> (void)</td></tr>
<tr class="memdesc:ga3d442fa018de5138afb19a2b85797099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update EMU module with CMU oscillator selection/enable status.  <a href="#ga3d442fa018de5138afb19a2b85797099">More...</a><br/></td></tr>
<tr class="separator:ga3d442fa018de5138afb19a2b85797099"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Energy Management Unit (EMU) Peripheral API. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacadc56c5e2a8fb2890edd139b694b25b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMU_EnterEM2 </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>restore</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter energy mode 2 (EM2). </p>
<p>When entering EM2, the high frequency clocks are disabled, ie HFXO, HFRCO and AUXHFRCO (for AUXHFRCO, see exception note below). When re-entering EM0, HFRCO is re-enabled and the core will be clocked by the configured HFRCO band. This ensures a quick wakeup from EM2.</p>
<p>However, prior to entering EM2, the core may have been using another oscillator than HFRCO. The <code>restore</code> parameter gives the user the option to restore all HF oscillators according to state prior to entering EM2, as well as the clock used to clock the core. This restore procedure is handled by SW. However, since handled by SW, it will not be restored before completing the interrupt function(s) waking up the core!</p>
<dl class="section note"><dt>Note</dt><dd>If restoring core clock to use the HFXO oscillator, which has been disabled during EM2 mode, this function will stall until the oscillator has stabilized. Stalling time can be reduced by adding interrupt support detecting stable oscillator, and an asynchronous switch to the original oscillator. See CMU documentation. Such a feature is however outside the scope of the implementation in this function. </dd></dl>
<dl class="section user"><dt></dt><dd>If HFXO is re-enabled by this function, and NOT used to clock the core, this function will not wait for HFXO to stabilize. This must be considered by the application if trying to use features relying on that oscillator upon return. </dd></dl>
<dl class="section user"><dt></dt><dd>If a debugger is attached, the AUXHFRCO will not be disabled if enabled upon entering EM2. It will thus remain enabled when returning to EM0 regardless of the <code>restore</code> parameter.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">restore</td><td><ul>
<li>true - restore oscillators and clocks, see function details. </li>
<li>false - do not restore oscillators and clocks, see function details. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd>The <code>restore</code> option should only be used if all clock control is done via the CMU API. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9e98f9066d91dbd64c3e73254336218f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMU_EnterEM3 </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>restore</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter energy mode 3 (EM3). </p>
<p>When entering EM3, the high frequency clocks are disabled by HW, ie HFXO, HFRCO and AUXHFRCO (for AUXHFRCO, see exception note below). In addition, the low frequency clocks, ie LFXO and LFRCO are disabled by SW. When re-entering EM0, HFRCO is re-enabled and the core will be clocked by the configured HFRCO band. This ensures a quick wakeup from EM3.</p>
<p>However, prior to entering EM3, the core may have been using another oscillator than HFRCO. The <code>restore</code> parameter gives the user the option to restore all HF/LF oscillators according to state prior to entering EM3, as well as the clock used to clock the core. This restore procedure is handled by SW. However, since handled by SW, it will not be restored before completing the interrupt function(s) waking up the core!</p>
<dl class="section note"><dt>Note</dt><dd>If restoring core clock to use an oscillator other than HFRCO, this function will stall until the oscillator has stabilized. Stalling time can be reduced by adding interrupt support detecting stable oscillator, and an asynchronous switch to the original oscillator. See CMU documentation. Such a feature is however outside the scope of the implementation in this function. </dd></dl>
<dl class="section user"><dt></dt><dd>If HFXO/LFXO/LFRCO are re-enabled by this function, and NOT used to clock the core, this function will not wait for those oscillators to stabilize. This must be considered by the application if trying to use features relying on those oscillators upon return. </dd></dl>
<dl class="section user"><dt></dt><dd>If a debugger is attached, the AUXHFRCO will not be disabled if enabled upon entering EM3. It will thus remain enabled when returning to EM0 regardless of the <code>restore</code> parameter.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">restore</td><td><ul>
<li>true - restore oscillators and clocks, see function details. </li>
<li>false - do not restore oscillators and clocks, see function details. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt></dt><dd>The <code>restore</code> option should only be used if all clock control is done via the CMU API. </dd></dl>

</div>
</div>
<a class="anchor" id="gac92115921464d7435fc714d8b9bd494b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMU_EnterEM4 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter energy mode 4 (EM4). </p>
<dl class="section note"><dt>Note</dt><dd>Only a power on reset or external reset pin can wake the device from EM4. </dd></dl>

</div>
</div>
<a class="anchor" id="ga49eb5750384ff279aae225ab5922e9f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMU_MemPwrDown </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>blocks</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power down memory block. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">blocks</td><td>Specifies a logical OR of bits indicating memory blocks to power down. Bit 0 selects block 1, bit 1 selects block 2, etc. Memory block 0 cannot be disabled. Please refer to the EFM32 reference manual for available memory blocks for a device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Only a reset can make the specified memory block(s) available for use after having been powered down. Function will be void for devices not supporting this feature. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3d442fa018de5138afb19a2b85797099"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EMU_UpdateOscConfig </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update EMU module with CMU oscillator selection/enable status. </p>
<p>When entering EM2 and EM3, the HW may change the core clock oscillator used, as well as disabling some oscillators. The user may optionally select to restore the oscillators after waking up from EM2 and EM3 through the SW API.</p>
<p>However, in order to support this in a safe way, the EMU module must be kept up-to-date on the actual selected configuration. The CMU module must keep the EMU module up-to-date.</p>
<p>This function is mainly intended for internal use by the CMU module, but if the applications changes oscillator configurations without using the CMU API, this function can be used to keep the EMU module up-to-date. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 13 2013 22:54:52 for blink by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
